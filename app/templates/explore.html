{% extends "base.html" %}

{% block content %}
<h2>Popular Songs</h2>
<form action="{{ url_for('add_favorites') }}" method="post">
    <div class="songs-grid">
        {% for song in songs %}
            <div class="song-card">
                <!-- Checkbox hidden but selectable via its label -->
                <input type="checkbox" name="track_ids" value="{{ song['track_id'] }}" id="song-{{ loop.index }}" class="song-checkbox">
                <!-- Label visually represents the checkbox -->
                <label for="song-{{ loop.index }}" class="song-label">
                    <p class="song-title">{{ song['track_name'] }}</p>
                    <p class="song-artist">{{ song['artists'].replace(';', ' & ') }}</p>
                </label>
            </div>
        {% else %}
            <p>No songs to display.</p>
        {% endfor %}
    </div>
    <div class="action-buttons">
        <button type="submit">Add to Favorites</button>
    </div>
</form>

<div class="action-buttons">
    <button onclick="location.href='/explore'">Explore Songs</button>
    <button onclick="location.href='/recommend'">Give Me Recommendations</button>
    <a href="/reset" class="button-link">Reset My Data</a>
</div>
{% endblock %}
